{"version":3,"sources":["constants/CONSTANT.js","utils/service.js","views/components/category/FormItem.js","views/layouts/Category.js"],"names":["categoryHost","newsHost","getCategoryApi","method","url","addCategoryApi","deleteCategoryApi","getNewsApi","addNewsApi","deleteNewsApi","axios","require","module","exports","request","setGlobalLoading","setGlobalToast","body","console","log","data","then","response","catch","err","code","status","message","type","moment","locale","FormItem","forwardRef","item","num","getReq","useGlobal","deleteItem","a","Constant","id","className","name","alignHorizontal","active","title","color","onClick","fields","Category","props","useState","addTitle","setAddTitle","setData","_data","useEffect","addCategory","alignVertical","placeholder","value","onChange","val","target","xs","map","idx","key","React","memo"],"mappings":"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","file":"static/js/8.532bfec3.chunk.js","sourcesContent":["const categoryHost = \"http://127.0.0.1:8081\";\r\nconst newsHost = \"http://127.0.0.1:8082\";\r\n\r\nexport default {\r\n  getCategoryApi: {\r\n    method: `get`,\r\n    url: `${categoryHost}/category`,\r\n  },\r\n  addCategoryApi: {\r\n    method: `post`,\r\n    url: `${categoryHost}/category`,\r\n  },\r\n  deleteCategoryApi: {\r\n    method: `delete`,\r\n    url: `${categoryHost}/category`,\r\n  },\r\n  getNewsApi: {\r\n    method: `get`,\r\n    url: `${newsHost}/news`,\r\n  },\r\n  addNewsApi: {\r\n    method: `post`,\r\n    url: `${newsHost}/news`,\r\n  },\r\n  deleteNewsApi: {\r\n    method: `delete`,\r\n    url: `${newsHost}/news`,\r\n  },\r\n};\r\n","const axios = require(\"axios\");\r\n\r\nmodule.exports = {\r\n  request: (\r\n    setGlobalLoading,\r\n    setGlobalToast,\r\n    url,\r\n    method,\r\n    body = {}\r\n  ) => {\r\n    console.log(url);\r\n    setGlobalLoading(true);\r\n    return axios({\r\n      method: method,\r\n      url: url,\r\n      data: body,\r\n    })\r\n      .then((response) => {\r\n        // setTimeout(() => setGlobalLoading(false), 3000);\r\n        setGlobalLoading(false);\r\n        return response.data;\r\n      })\r\n      .catch((err) => {\r\n        setGlobalLoading(false);\r\n        const code = err.response ? err.response.status : 0;\r\n        if (code == 400)\r\n          setGlobalToast({ message: \"Бүрэн гүйцэд бөглөнө үү.\", type: false });\r\n        else if (code == 401) {\r\n          setGlobalToast({ message: \"Нэвтрэх шаардлагатай.\", type: false });\r\n        } else if (code == 403)\r\n          setGlobalToast({ message: \"Нууц үг буруу байна.\", type: false });\r\n        else if (code == 406)\r\n          setGlobalToast({ message: \"Эрх байхгүй байна.\", type: false });\r\n        else if (code == 409)\r\n          setGlobalToast({\r\n            message: \"Утасны дугаар эсвэл нэвтрэх нэр бүртгэлтэй байна.\",\r\n            type: false,\r\n          });\r\n        else if (code == 500)\r\n          setGlobalToast({ message: \"Серверийн алдаа.\", type: false });\r\n        else {\r\n          setGlobalToast({\r\n            message: \"Интернэт холболтоо шалгана уу.\",\r\n            type: false,\r\n          });\r\n        }\r\n        console.log(\"Error: \" + err);\r\n      });\r\n  },\r\n};\r\n","import React, { forwardRef } from \"react\";\r\n\r\nimport { CRow, CButton } from \"@coreui/react\";\r\n\r\nimport { useGlobal } from \"../../../context/GlobalContext/use-global\";\r\nimport Constant from \"../../../constants/CONSTANT\";\r\nimport { request } from \"../../../utils/service\";\r\n\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/mn\";\r\nmoment.locale(\"mn\");\r\n\r\nconst FormItem = forwardRef(\r\n  ({ item, num, getReq}) => {\r\n\r\n    const {\r\n      setGlobalLoading,\r\n      setGlobalToast,\r\n    } = useGlobal();\r\n\r\n    const deleteItem = async () => {\r\n      await request(\r\n        setGlobalLoading,\r\n        setGlobalToast,\r\n        Constant.deleteCategoryApi.url + \"/\" + item.id,\r\n        Constant.deleteCategoryApi.method,\r\n      );\r\n      getReq();\r\n    }\r\n\r\n    return (\r\n      <tr key={item.id}>\r\n        <td className=\"text-center\">{num}</td>\r\n        <td className=\"text-center\">{item.name}</td>\r\n        <td className=\"text-center\">\r\n          <CRow alignHorizontal=\"center\" className=\"xs-2\">\r\n            <CButton\r\n                className=\"ml-1\"\r\n                active\r\n                title=\"Устгах\"\r\n                color=\"danger\"\r\n                aria-pressed=\"true\"\r\n                onClick={deleteItem}\r\n              >\r\n                <CIcon name=\"cil-trash\" />\r\n              </CButton>\r\n          </CRow>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n);\r\n\r\nexport default FormItem;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport {\r\n  CCol,\r\n  CRow,\r\n  CButton,\r\n  CInput,\r\n} from \"@coreui/react\";\r\n\r\nimport { useGlobal } from \"../../context/GlobalContext/use-global\";\r\nimport Constant from \"../../constants/CONSTANT\";\r\nimport { request } from \"../../utils/service\";\r\n\r\nimport FormItem from \"../components/category/FormItem\";\r\n\r\nconst fields = [\r\n  \"№\",\r\n  \"Нэр\",\r\n  \"Үйлдэл\",\r\n];\r\n\r\nconst Category = (props) => {\r\n  const [addTitle, setAddTitle] = useState(\"\");\r\n  const [data, setData] = useState([]);\r\n  const {\r\n    setGlobalLoading,\r\n    setGlobalToast,\r\n  } = useGlobal();\r\n\r\n  const getReq = async () => {\r\n    const _data = await request(\r\n      setGlobalLoading,\r\n      setGlobalToast,\r\n      Constant.getCategoryApi.url,\r\n      Constant.getCategoryApi.method\r\n    );\r\n    setData(_data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getReq();\r\n  }, []);\r\n\r\n  const addCategory = async () => {\r\n    await request(\r\n      setGlobalLoading,\r\n      setGlobalToast,\r\n      Constant.addCategoryApi.url,\r\n      Constant.addCategoryApi.method,\r\n      {\r\n        name: addTitle\r\n      }\r\n    );\r\n    setAddTitle(\"\");\r\n    getReq();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <CRow alignVertical=\"center\">\r\n        <CCol>\r\n          <CInput\r\n            placeholder=\"Категорын нэр\"\r\n            value={addTitle}\r\n            onChange={(val) =>\r\n                setAddTitle(val.target.value)\r\n              }\r\n        />\r\n        </CCol>\r\n          <CCol xs=\"1\">\r\n            <CButton\r\n              color=\"success\"\r\n              onClick={addCategory}\r\n            >\r\n              Нэмэх\r\n            </CButton>\r\n          </CCol>\r\n      </CRow>\r\n      <CRow>\r\n        <CCol>\r\n          <table className=\"table table-hover table-outline mb-0 d-none d-sm-table\">\r\n            <thead className=\"thead-light\">\r\n              <tr>\r\n                {fields.map((item, idx) => {\r\n                  return (\r\n                    <th key={idx} className=\"text-center\">\r\n                      {item}\r\n                    </th>\r\n                  );\r\n                })}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {data &&\r\n                data\r\n                  .map((item, key) => {\r\n                    return (\r\n                      <FormItem\r\n                        item={item}\r\n                        num={key + 1}\r\n                        getReq={getReq}\r\n                      />\r\n                    );\r\n                  })}\r\n            </tbody>\r\n          </table>\r\n        </CCol>\r\n      </CRow>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(Category);\r\n"],"sourceRoot":""}